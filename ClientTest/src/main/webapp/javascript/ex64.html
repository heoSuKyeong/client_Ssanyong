<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


    <script>
        //객체 생성 2가지 방법
        const o1 = new Object();
        const o2 = {};  //리터럴 표기법이 더 간단하여 많이 사용한다.

        o1.name = '홍길동';
        o1.hello = function() {
            console.log('hello');
        };

        o2.name = '아무개';
        o2.hello = function() {
            console.log('안녕');
        }

        //위 코드의 문제점 : 오타를 내도 제어하지 못한다

        //생성자 함수
        //위 문제점 보완가능 하다
        //자바의 생성자와 유사하다
        //

        /* 자바의 생성자
        class User {
            private String name;
            private int age;

            public User(String name, int age) {
                this.name = name;
                this.age = age;
            }
        }
        */

        //생성자 함수
        //자바의 생성자와 유사하나, 멤버 변수 선언이 없다.
        //함수명을 파스칼 표기법으로 작성한다.(일반 함수와 구분하기 위해) > 에러는 나지않지만 암묵적인 룰이다.
        //
        function User(name, age) {

            this.name = name;
            this.age = age;
            // window.age = age;

        }
        
        //생성자 함수는 절대로 일반 함수처럼 그냥 호출하면 안된다.
        // User('홍길동', 20);

        //var로 선언한 전역 변수는 자동으로 window의 프로퍼티가 된다.
        // var color = 'gold';

        //생성자 함수는 반드시 new 연산자와 같이 사용해야 한다.
        // const o3 = new User('홍길동', 20);

        console.log(o3);

    </script>

    <script>

        //new > {}
        const now = new Date();
        const list = new Array();

        list[0] = 10;
        list[2] = 30;

        console.log(list[1]);       //undefined

        const hong = {};

        //정의되지 않은 속성 > undefined
        console.log(hong.name);     //undefined

        //정의되지않은 변수 > 에러
        // console.log(height);    //height is not defined

        const arr = {
            0: '사과',
            1: '귤',
            2: '바나나',
            length :3
        };

        console.log(arr[0]);

        const desk = {};
        const today = new Date();
        const arr2 = new Array();

        console.log(typeof desk);   //object
        console.log(typeof today);   //object
        console.log(typeof arr2);   //object

        console.log(today.constructor.name);    //Date

        const arr3 = new Array();

        //object에 address, check 프로퍼티 추가한 것(기능 추가할 때 이런식으로 사용하기도 한다.)
        arr3[0] = '강아지';
        arr3[1] = '고양이';
        arr3.address = '서울시 강남구';
        arr3.check = function() {
            alert('체크완료');
        }

    </script>

    <script>
        //this
        
        //익명 함수 사용
        const o5 = {
            name: '홍길동',
            age: 20,
            info : function() {
                //반드시 this 키워드를 붙여줘야한다.
                //사용하지 않으면 지역변수로 인식하기에 에러가 난다.
                // console.log(name, age);      //age is not defined
                console.log(this.name, this.age);
            }
        };
        
        o5.info();  //홍길동 20

        //실명 함수 사용
        const o6 = {
            name: '호호호',
            age: 23,
            info: m1
        };

        //전역 함수는 window의 프로퍼티이다.
        //this는 o6를 의미하는 것이 아니다.
        function m1() {
            console.log(this.name, this.age);
        }

        o6.info();  //호호호 23

        m1();   // undefined

    </script>
    
</body>
</html>