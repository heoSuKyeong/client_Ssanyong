<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   
    <h1>셀렉트 박스</h1>

    <select name="sel1" multiple size="7">
        <option value="f1">사과</option>
        <option value="f2">딸기</option>
        <option value="f3">바나나</option>
        <option value="f4">키위</option>
        <option value="f5">망고</option>
    </select>

    <hr>

    <input type="button" value="버튼1" name="btn1">
    <input type="button" value="버튼2" name="btn2">
    <input type="button" value="버튼3" name="btn3">
    <input type="button" value="버튼4" name="btn4">
    <input type="button" value="버튼5" name="btn5">

    <script>
        var sel1 = document.all.sel1;

        document.all.btn1.onclick = m1;
        document.all.btn2.onclick = m2;
        document.all.btn3.onclick = m3;
        document.all.btn4.onclick = m4;
        document.all.btn5.onclick = m5;

        function m1() {
            //기본적인 핸들링
            //사용자가 선택한 과일을 
            sel1.value = 'f3';
            
        }

        function m2() {
            // 자바스크립트만의 속성
            // alert(sel1.selectedIndex);

            sel1.selectedIndex = 1;
        }

        function m3() {
            //동적으로 항목을 추가하기
            //<option> 태그로 생성한다.

            //<option> 중복 추가 방지하기
            for (var i=0; i<sel1.options.length; i++) {
                if(sel1.options[i].text == '파인애플') {
                    return;
                }
            }

            // <option value="f6">파인애플<option>

            var op = new Option();  //우리 눈에는 object이지만 옵션 태그가 생성된것이다.
            op.value = 'f6';        // <option value="f6"><option>
            op.text = '파인애플';   // <option value="f6">파인애플<option>
            //select 태그에 연결을 하지 않아 보이지 않는다.

            //<select> + <option> 연결
            sel1.options.add(op);
            

        }

        function m4() {
            //동적으로 삭제하기
            //index shift 발생하므로 주의해야 한다.
            // sel1.options.remove(2);     //바나나

            //사용자가 선택한 과일 삭제하기
            sel1.options.remove(sel1.selectedIndex);

        }

        function m5() {
            //단일 선택시에만 사용
            // alert(sel1.value);

            //다중 선택된 값 읽기
            for (var i=0; i<sel1.options.length; i++){
                // alert(sel1.options[i].selected);    //선택되었으면 true 반환, 안되었으면 false 반환
                if(sel1.options[i].selected) {
                    alert(sel1.options[i].text + '(' + sel1.options[i].value + ')');
                }
            }

            // sel1.options[1].selected = true;
            // sel1.options[2].selected = true;
            // sel1.options[3].selected = true;

        }
    </script>
</body>
</html>